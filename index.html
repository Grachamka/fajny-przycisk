<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fajny Przycisk 4.0</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:radial-gradient(circle at center,#0a0f2c,#000814);
  color:white;
  text-align:center;
}

h1{
  margin-top:20px;
}

#points{
  position:fixed;
  top:10px;
  left:10px;
  font-size:18px;
}

button{
  padding:25px 40px;
  font-size:22px;
  border:none;
  border-radius:20px;
  cursor:pointer;
  margin:15px;
}

#mainButton{
  background:red;
  color:white;
  width:70%;
  max-width:300px;
}

#shopButton{
  position:fixed;
  top:10px;
  right:10px;
  background:#444;
  color:white;
  padding:10px 15px;
}

#shop{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.95);
  display:none;
  overflow:auto;
}

.shopItem{
  background:#111;
  padding:20px;
  margin:20px;
  border-radius:15px;
}

.goldBG{
  animation:goldShine 3s infinite linear;
  background:linear-gradient(45deg,gold,orange,yellow);
  background-size:400% 400%;
}

@keyframes goldShine{
  0%{background-position:0%}
  50%{background-position:100%}
  100%{background-position:0%}
}
</style>
</head>

<body>

<div id="points"></div>

<button id="shopButton" onclick="openShop()">üõí</button>

<h1>FAJNY PRZYCISK</h1>

<button id="mainButton" onclick="clickMain()">?</button>

<div id="shop">
  <h2>SKLEP</h2>

  <div class="shopItem">
    <h3>üéÅ Skrzynka</h3>
    <p>Koszt: 50 punkt√≥w</p>
    <button onclick="openBox()">Otw√≥rz</button>
  </div>

  <div class="shopItem">
    <h3>üíé Z≈Çoty Skin</h3>
    <p>Koszt: 100 punkt√≥w</p>
    <button onclick="buyGold()">Kup</button>
  </div>

  <button onclick="closeShop()">‚ùå Zamknij</button>
</div>

<script>
let points = parseInt(localStorage.getItem("points") || 0);
let activeSkin = localStorage.getItem("skin") || "red";
updateUI();
applySkin();

function updateUI(){
  document.getElementById("points").innerText="Punkty: "+points;
  localStorage.setItem("points",points);
}

function clickMain(){
  points+=1;
  updateUI();
}

function openShop(){
  document.getElementById("shop").style.display="block";
}

function closeShop(){
  document.getElementById("shop").style.display="none";
}

function openBox(){
  if(points<50){
    alert("Za ma≈Ço punkt√≥w!");
    return;
  }

  points-=50;
  updateUI();

  let roll=Math.random()*100;
  let rarity="common";

  if(roll<60) rarity="common";
  else if(roll<85) rarity="rare";
  else if(roll<95) rarity="epic";
  else rarity="legendary";

  if(rarity==="legendary"){
    document.body.classList.add("goldBG");
    setTimeout(()=>{
      document.body.classList.remove("goldBG");
    },2000);
  }

  activeSkin=rarity;
  localStorage.setItem("skin",activeSkin);
  applySkin();

  alert("Wylosowano: "+rarity.toUpperCase());
}

function buyGold(){
  if(points<100){
    alert("Za ma≈Ço punkt√≥w!");
    return;
  }

  points-=100;
  activeSkin="legendary";
  localStorage.setItem("skin",activeSkin);
  updateUI();
  applySkin();
}

function applySkin(){
  const btn=document.getElementById("mainButton");

  if(activeSkin==="common") btn.style.background="gray";
  if(activeSkin==="rare") btn.style.background="blue";
  if(activeSkin==="epic") btn.style.background="purple";
  if(activeSkin==="legendary") btn.style.background="gold";
  if(activeSkin==="red") btn.style.background="red";
}
</script>

</body>
</html>
